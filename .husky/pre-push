#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-push hook for Qylon Platform
# Runs comprehensive quality checks before allowing pushes

echo "ðŸš€ Running pre-push quality checks..."

# Run full test suite
echo "ðŸ§ª Running full test suite..."
npm run test:ci

# Run E2E tests
echo "ðŸŽ­ Running E2E tests..."
npm run test:e2e

# Run performance tests
echo "âš¡ Running performance tests..."
npm run test:performance:load

# Run security scan
echo "ðŸ”’ Running security scan..."
npm run security:scan

# Run SonarQube analysis
echo "ðŸ“Š Running SonarQube analysis..."
npm run sonar

echo "âœ… Pre-push checks passed!"
